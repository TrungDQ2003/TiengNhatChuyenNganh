<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>homepage</title>
</head>

<body>
    <nav class="navbar fixed-top navbar-expand-sm bg-white">
        <div class="container-fluid">
            <div>
                <button id="toggleButton" onclick="toggleSidebar()"><span
                        class="navbar-toggler-icon"></span></a></button>
                <img src="/dragon.jpeg" alt="logo" height="50" class="navbar-logo" al>
            </div>
            <div class="text-center flex-grow-1">
                <h2>Kanji Memory Master</h2>
            </div>
            <div>
                <button class="btn btn-primary">+ Create Course</button>
                <img src="/th.jpg" alt="User Avatar" height="50" class="user-avatar" id="userDropdown">

                <div class="dropdown-menu" id="dropdownMenu">
                    <a href="" class="dropdown-item">Information</a>
                    <a href="" class="dropdown-item">Logout</a>
                </div>


            </div>
        </div>
    </nav>
    <script>
        document.getElementById("userDropdown").addEventListener("click", function () {
            var dropdownMenu = document.getElementById("dropdownMenu");
            dropdownMenu.classList.toggle("show")
        })

        window.addEventListener("click", function () {
            if (!event.target.matches('.user-avatar')) {
                var dropdowns = document.getElementsByClassName("dropdown-menu");
                for (var i = 1; i < dropdowns.length(); i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        })
    </script>
    <div class="container-fluid" style="margin-top: 80px;">
        <div class="row">
            <nav class="col-md-3 col-lg-2 d-md-block sidebar" style="width: 250px;" id="sidebar">
                <!-- Vertical Navbar -->
                <div class="position-sticky">
                    <ul class="nav flex-column">
                        <li class="nav-item border mb-2 active">
                            <a class="nav-link" href="#" onclick="changeActive(this)">
                                <i class="fas fa-home"></i>
                                <span>Home</span>
                            </a>
                        </li>
                        <li class="nav-item border mb-2">
                            <a class="nav-link" href="#" onclick="changeActive(this)">
                                <i class="fas fa-folder"></i>
                                <span>Your library</span>
                            </a>
                        </li>

                        <hr>

                        <p style="font-size:x-large;">Learn</p>

                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="changeActive(this)">
                                <i class="fas fa-credit-card"></i>
                                <span>Quizzs</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <script>
                function changeActive(element) {
                    var navItems = document.querySelectorAll('.nav-item');

                    // Remove active class from all nav items
                    navItems.forEach(item => {
                        item.classList.remove('active');
                    });

                    // Add active class to the clicked nav item
                    element.parentElement.classList.add('active');
                }
            </script>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 content" style="width: calc(100% - 350px);" id="main">
                <h3>Your Course</h3>
                <hr>
                <div id="flashCard" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="flash-card">
                                <div class="font">
                                    <p>時間</p>
                                </div>
                                <div class="back">
                                    <p>Thời gian</p>
                                </div>

                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="flash-card">
                                <div class="font">
                                    <p>空間</p>
                                </div>
                                <div class="back">
                                    <p>Khoảng không gian</p>
                                </div>

                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="flash-card">
                                <div class="font">
                                    <p>場所</p>
                                </div>

                                <div class="back">
                                    <p>Nơi chốn</p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="carousel-controls">
                        <button class="carousel-control-prev" style="width: 30%;" type="button" data-bs-target="#flashCard"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <p>3/60</p>
                        <button class="carousel-control-next" style="width: 30%;" type="button" data-bs-target="#flashCard"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
                <div>

                </div>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const flashCards = document.querySelectorAll('.flash-card');
            const carouselItems = document.querySelectorAll('.carousel-item');
            let currentIndex = 0;
            flashCards.forEach(flashCard => {
                flashCard.addEventListener('click', function () {
                    this.classList.toggle('flipped');
                });
            });
            function showNextSlide() {
                carouselItems[currentIndex].classList.remove('active');
                currentIndex = (currentIndex + 1) % carouselItems.length;
                carouselItems[currentIndex].classList.add('active');
            }
        });
    </script>


    <script>
        function toggleSidebar() {
            var sidebar = document.getElementById("sidebar");
            var main = document.getElementById("main");
            var navLinks = document.querySelectorAll('.nav-link');

            if (sidebar.style.width === "250px") {
                sidebar.style.width = "85px";
                main.style.marginLeft = "85px";
                main.style.width = "calc(100% - 185px)";

                navLinks.forEach(item => {
                    item.querySelector('span').classList.add('hide-text');
                });
            } else {
                sidebar.style.width = "250px";
                main.style.marginLeft = "250px";
                main.style.width = "calc(100% - 350px)";

                navLinks.forEach(item => {
                    item.querySelector('span').classList.remove('hide-text');
                });
            }
        }   
    </script>

</body>

</html>